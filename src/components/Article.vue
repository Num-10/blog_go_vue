<template>
<!--ä¸»ä½“-->
    <section class="main">
        <div class="left-box">
            <div class="article-container">
                <div class="sort-box">
                    <span class="location fl c-666">
                        <span class="at-sort-detail c-666">å½“å‰ä½ç½®ï¼š
                            <router-link to="/index">é¦–é¡µ</router-link> >
                            <a href="javascript:;">{{ articleInfo.title }}</a>
                        </span>
                    </span>
                </div>
                <div class="article-content markdown-body">
                  <h1 style="margin: 10px 0">{{ articleInfo.title }}</h1>
                  <div class="writer-info">
                      <span style="margin: 5px 0;">Author: </span>
                      <span id="writer">{{ articleInfo.author }} </span>
                      <span id="write-time">{{ articleInfo.created_format }}</span>
                      <span>é˜…è¯»(<span id="read-number">{{ articleInfo.view_count }}</span>)</span>
                      <!-- <span>è¯„è®º(<span id="read-number">0</span>)</span> -->
                  </div>
                  <div class="body_content">
                    <EditorMd ref="EditorMd" only_show=true></EditorMd>
                  </div>
                </div>

                <!-- <div class="prev-next">
                    <div class="p-div">
                        <span class="fl">ä¸Šä¸€ç¯‡ï¼š</span>
                        <a class="one-line-overflow fl" href="https://www.zhaoyangkun.top/front/articleDetail/23/"
                            id="prev-a">Djangoä¸­ajaxä¸Šä¼ å›¾ç‰‡è¯¦ç»†æ­¥éª¤</a>
                    </div>

                    <div class="n-div">
                        <span class="fl">ä¸‹ä¸€ç¯‡ï¼š</span>
                        <a class="one-line-overflow fl" href="https://www.zhaoyangkun.top/front/articleDetail/29/" id="next-a">CentOS åˆ©ç”¨ Docker éƒ¨ç½²
                            pipe å…·ä½“æ­¥éª¤</a>
                    </div>
                </div> -->
            </div>

            <!-- <div class="comment-container" style="margin-top: 20px;">

                <div class="sort-box">
                    <span class="at-sort-s fl"><a style="box-sizing: content-box;"
                            class="at-sort-comment-a c-666">è¯„è®º</a></span>
                    <span class="location fl c-666"><a class="at-sort-detail c-666"></a> </span>
                </div>

                <div class="text-area-holder">
                    <div id="vditor">

                    </div>

                </div>

                <div class="button-line">
                    <span id="error-info"></span>
                    <button type="button" id="publish-btn" onclick="">å‘å¸ƒ</button>
                </div>

                <div class="total-count">
                    å…± <span id="comment-count">2</span> æ¡è¯„è®º
                </div>

                <div class="comment-item">
                    <div class="user-img-box">
                        <img src="" id="user-img" alt="">
                    </div>
                    <div class="comment-box">
                        <div class="user-info">
                            <span class="user-name">admin</span>
                            <span class="publish-time">2019å¹´08æœˆ12æ—¥ 11:14:48</span>
                        </div>

                        <div class="reply-box">
                            <div class="user-info">
                                <span class="reply-user-name">@admin</span>
                                <span class="publish-time">2019å¹´08æœˆ12æ—¥ 11:11:39</span>
                            </div>
                            <p class="comment-content c-666" style="padding-bottom: 5px">
                                è›®æƒ³å‡ºä¸€ä¸ªé‡è£…win10çš„è¯¦ç»†æ•™ç¨‹ï¼Œä½†æ˜¯èº«è¾¹æ²¡æœ‰ç”µè„‘ç»™æˆ‘åšæµ‹è¯•ğŸ˜‚ ã€‚è›®æƒ³å‡ºä¸€ä¸ªé‡è£…win10çš„è¯¦ç»†æ•™ç¨‹ï¼Œä½†æ˜¯èº«è¾¹æ²¡æœ‰ç”µè„‘ç»™æˆ‘åšæµ‹è¯•ğŸ˜‚ ã€‚è›®æƒ³å‡ºä¸€ä¸ªé‡è£…win10çš„è¯¦ç»†æ•™ç¨‹ï¼Œä½†æ˜¯èº«è¾¹æ²¡æœ‰ç”µè„‘ç»™æˆ‘åšæµ‹è¯•ğŸ˜‚ ã€‚
                            </p>

                        </div>

                        <p class="comment-content c-666">
                        </p>
                        <p>å”‰ï¼Œè¯´å®è¯åšåšå®¢è¿˜æ˜¯èŠ±äº†è›®å¤šå¿ƒæ€çš„ï¼Œå°±æ˜¯æ²¡ä»€ä¹ˆæµé‡ï¼Œä¸ç®¡äº†ï¼Œåšå¥½è‡ªå·±å°±è¡Œäº†ã€‚å”‰ï¼Œè¯´å®è¯åšåšå®¢è¿˜æ˜¯èŠ±äº†è›®å¤šå¿ƒæ€çš„ï¼Œå°±æ˜¯æ²¡ä»€ä¹ˆæµé‡ï¼Œä¸ç®¡äº†ï¼Œåšå¥½è‡ªå·±å°±è¡Œäº†ã€‚å”‰ï¼Œè¯´å®è¯åšåšå®¢è¿˜æ˜¯èŠ±äº†è›®å¤šå¿ƒæ€çš„ï¼Œå°±æ˜¯æ²¡ä»€ä¹ˆæµé‡ï¼Œä¸ç®¡äº†ï¼Œåšå¥½è‡ªå·±å°±è¡Œäº†ã€‚</p>
                        <p></p>

                        <div class="icon-line">
                            <a href="javascript:void(0)" class="delete-icon"
                                style="background-image: url('../static/img/delete.svg');" onclick=""></a>

                            <a href="javascript:void(0)" class="comment-icon"
                                style="background-image: url('../static/img/comment.svg');"
                                onclick="show_reply(this)"></a>
                            <span class="reply_count c-666">0</span>

                            <a href="javascript:void(0)" class="liked-icon"
                                style="background-image: url('../static/img/liked.svg');" onclick=""></a>

                            <span class="liked_count c-666">0</span>
                        </div>

                        <div class="reply-holder" style="display: none;">
                            <input class="reply-btn" type="button" onclick="" value="å›å¤">
                        </div>

                    </div>
                </div>

                <div class="comment-item">
                    <div class="user-img-box">

                        <img src="" id="user-img" alt="">

                    </div>
                    <div class="comment-box">

                        <div class="user-info">
                            <span class="user-name">admin</span>
                            <span class="publish-time">2019å¹´08æœˆ12æ—¥ 11:11:39</span>
                        </div>

                        <p class="comment-content c-666">
                        </p>
                        <p>è›®æƒ³å‡ºä¸€ä¸ªé‡è£…win10çš„è¯¦ç»†æ•™ç¨‹ï¼Œä½†æ˜¯èº«è¾¹æ²¡æœ‰ç”µè„‘ç»™æˆ‘åšæµ‹è¯•ğŸ˜‚ ã€‚</p>
                        <p></p>

                        <div class="icon-line">

                            <a href="javascript:void(0)" class="delete-icon"
                                style="background-image: url('../static/img/delete.svg');" onclick=""></a>

                            <a href="javascript:void(0)" class="comment-icon"
                                style="background-image: url('../static/img/comment.svg');"
                                onclick="show_reply(this)"></a>
                            <span class="reply_count c-666">1</span>

                            <a href="javascript:void(0)" class="liked-icon"
                                style="background-image: url('../static/img/liked-on.svg');" onclick=""></a>

                            <span class="liked_count c-666">1</span>
                        </div>

                        <div class="reply-holder" style="display: none;">
                            <input class="reply-btn" type="button" onclick="reply_comment(this,8,22,30)" value="å›å¤">
                        </div>

                    </div>
                </div>
            </div> -->
        </div>

        <!-- <div class="right-box">

            <div class="column-holder">
            </div>

            <div class="column-holder" style="margin-top: 20px">
                <ul class="column_box">
                    <li class="column-title b-b-ece c-29">ç‚¹å‡»æ’è¡Œ</li>

                    <li class="column-category b-b-ece">
                        <a href="/front/articleDetail/22/">åšåšå®¢ç½‘ç«™çš„åˆè¡·</a>
                    </li>

                    <li class="column-category b-b-ece">
                        <a href="/front/articleDetail/23/">Djangoä¸­ajaxä¸Šä¼ å›¾ç‰‡è¯¦ç»†æ­¥éª¤</a>
                    </li>

                    <li class="column-category b-b-ece">
                        <a href="/front/articleDetail/24/">å¦‚ä½•åœ¨Djangoä¸­æ–°å»ºä¸€ä¸ªAppï¼Œè¿æ¥Mysqlæ•°æ®åº“ï¼Œå¹¶è·å–æ•°æ®ã€‚</a>
                    </li>

                    <li class="column-category b-b-ece">
                        <a href="/front/articleDetail/32/">Djangoå¸¸ç”¨ORMæ–¹æ³•</a>
                    </li>

                    <li class="column-category b-b-ece">
                        <a href="/front/articleDetail/21/">Djangoæ¨¡æ¿è¯­è¨€â€”â€”if-else</a>
                    </li>

                    <li class="column-category b-b-ece">
                        <a href="/front/articleDetail/17/">Pythoné€’å½’éå†å›¾ç‰‡æ–‡ä»¶</a>
                    </li>

                    <li class="column-category b-b-ece">
                        <a href="/front/articleDetail/20/">Djangoæ¨¡æ¿è¯­è¨€â€”â€”for</a>
                    </li>

                    <li class="column-category b-b-ece">
                        <a href="/front/articleDetail/29/">CentOS åˆ©ç”¨ Docker éƒ¨ç½² pipe å…·ä½“æ­¥éª¤</a>
                    </li>

                </ul>
            </div>
        </div> -->
    </section>
</template>

<script>
import EditorMd from '@/components/EditorMd'
export default {
  name: 'Index',
  components: {
    EditorMd
  },
  data () {
    return {
      article_id: 0,
      articleInfo: []
    }
  },
  created () {
    this.$data.article_id = this.$route.query.article_id
    if (this.$data.article_id <= 0) {
      this.$router.push({
        name: 'Index'
      })
    }
    this.getArticle()
  },
  mounted () {
    // if (this.$refs.EditorMd.navigationHtml) {
    //   $('.column-holder').append(this.$refs.EditorMd.navigationHtml)
    // }
  },
  methods: {
    getArticle: function () {
      let _this = this
      this.$axios.get('/oo/article/' + this.$data.article_id, {
        params: {}
      }).then(function (response) {
        if (response.data.data.length <= 0) {
          _this.$router.push({
            name: 'Index'
          })
        }
        _this.$data.articleInfo = response.data.data
        _this.$refs.EditorMd.content = response.data.data.content
      })
    }
  }
}
</script>

<style>
@import "../assets/css/article-detail.css";
/* @import "../assets/css/code.css";
@import "../assets/css/github-markdown.css";
@import "../assets/css/vditor.classic.css"; */

.body_content {
  text-align: left;
}
</style>
